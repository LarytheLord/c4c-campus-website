---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout
  title="Tracks - C4C Campus"
  description="Choose your track: Animal Advocacy, Climate Action, AI Safety, or Hybrid. All use engineering compassion principles."
>
  <div class="section">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Hero -->
      <div class="text-center mb-12">
        <h1 class="text-5xl font-black mb-6">
          Choose Your <span class="text-gradient">Track</span>
        </h1>
        <p class="text-xl text-text-muted max-w-3xl mx-auto">
          All tracks use engineering compassion. Choose based on the impact area that matters most to you.
        </p>
      </div>

      <!-- Track Selection Cards -->
      <div class="grid md:grid-cols-2 gap-6 mb-16 max-w-4xl mx-auto">
        <button id="btn-animal" class="track-btn card border-2 border-primary hover:shadow-xl transition-all text-left cursor-pointer">
          <div class="text-4xl mb-3">üêæ</div>
          <h2 class="text-2xl font-bold mb-2">Animal Advocacy</h2>
          <p class="text-base text-text-muted">Build tools that recognize animal sentience and support advocacy work</p>
          <div class="text-sm font-bold text-primary mt-3">Click for details ‚Üí</div>
        </button>

        <button id="btn-climate" class="track-btn card border-2 border-accent hover:shadow-xl transition-all text-left cursor-pointer">
          <div class="text-4xl mb-3">üåç</div>
          <h2 class="text-2xl font-bold mb-2">Climate Action</h2>
          <p class="text-base text-text-muted">Build tools that respect ecological boundaries and support environmental action</p>
          <div class="text-sm font-bold text-accent mt-3">Click for details ‚Üí</div>
        </button>

        <button id="btn-ai-safety" class="track-btn card border-2 border-info hover:shadow-xl transition-all text-left cursor-pointer">
          <div class="text-4xl mb-3">üîí</div>
          <h2 class="text-2xl font-bold mb-2">AI Safety & Security</h2>
          <p class="text-base text-text-muted">Train compassion into AI models to actively protect under pressure</p>
          <div class="text-sm font-bold text-info mt-3">Click for details ‚Üí</div>
        </button>

        <button id="btn-hybrid" class="track-btn card border-2 border-primary hover:shadow-xl transition-all text-left cursor-pointer">
          <div class="text-4xl mb-3">üîó</div>
          <h2 class="text-2xl font-bold mb-2">Hybrid Track</h2>
          <p class="text-base text-text-muted">Build tools at the intersection of all three domains</p>
          <div class="text-sm font-bold text-primary mt-3">Click for details ‚Üí</div>
        </button>
      </div>

      <!-- Animal Advocacy Track -->
      <div id="animal" class="track-detail mb-12 max-w-4xl mx-auto hidden">
        <div class="card border-l-4 border-primary">
          <h2 class="text-3xl font-bold mb-4">Animal Advocacy Track</h2>
          <p class="text-lg text-text-muted mb-6">
            Build AI tools that recognize animal sentience and support advocacy work.
          </p>

          <div class="grid md:grid-cols-2 gap-6 mb-6">
            <div>
              <h3 class="text-lg font-bold mb-3">Example Tools</h3>
              <ul class="text-base text-text-muted space-y-2">
                <li>‚Üí Supply chain transparency platforms</li>
                <li>‚Üí Campaign coordination systems</li>
                <li>‚Üí Legislative monitoring tools</li>
                <li>‚Üí Educational content generators</li>
              </ul>
            </div>

            <div>
              <h3 class="text-lg font-bold mb-3">Organizations You'll Serve</h3>
              <ul class="text-base text-text-muted space-y-2">
                <li>‚Üí Animal sanctuaries</li>
                <li>‚Üí Advocacy organizations</li>
                <li>‚Üí Plant-based food companies</li>
                <li>‚Üí Wildlife protection groups</li>
              </ul>
            </div>
          </div>

          <div class="bg-surface p-4 rounded-lg mb-4">
            <p class="text-base text-text-muted"><strong>Example 1:</strong> FactoryWatch - transparency platform tracking welfare violations across industrial farms, automatically flagging non-compliance and coordinating advocacy responses.</p>
          </div>
          <div class="bg-surface p-4 rounded-lg">
            <p class="text-base text-text-muted"><strong>Example 2:</strong> SaferStrays - stray animal census database helping coordinate care across multiple rescue organizations, matching resources to need in real-time.</p>
          </div>
        </div>
      </div>

      <!-- Climate Action Track -->
      <div id="climate" class="track-detail mb-12 max-w-4xl mx-auto hidden">
        <div class="card border-l-4 border-accent">
          <h2 class="text-3xl font-bold mb-4">Climate Action Track</h2>
          <p class="text-lg text-text-muted mb-6">
            Build AI tools that respect ecological boundaries and support environmental action.
          </p>

          <div class="grid md:grid-cols-2 gap-6 mb-6">
            <div>
              <h3 class="text-lg font-bold mb-3">Example Tools</h3>
              <ul class="text-base text-text-muted space-y-2">
                <li>‚Üí Greenwashing detection systems</li>
                <li>‚Üí Carbon footprint trackers</li>
                <li>‚Üí Renewable energy optimizers</li>
                <li>‚Üí Climate adaptation planners</li>
              </ul>
            </div>

            <div>
              <h3 class="text-lg font-bold mb-3">Organizations You'll Serve</h3>
              <ul class="text-base text-text-muted space-y-2">
                <li>‚Üí Climate advocacy groups</li>
                <li>‚Üí Renewable energy cooperatives</li>
                <li>‚Üí Environmental justice orgs</li>
                <li>‚Üí Sustainable agriculture projects</li>
              </ul>
            </div>
          </div>

          <div class="bg-surface p-4 rounded-lg mb-4">
            <p class="text-base text-text-muted"><strong>Example 1:</strong> ClaimCheck - AI that detects misleading environmental claims in corporate communications and marketing, automatically flagging greenwashing for advocacy groups.</p>
          </div>
          <div class="bg-surface p-4 rounded-lg">
            <p class="text-base text-text-muted"><strong>Example 2:</strong> RenewableOptimize - energy grid management tool helping cooperatives maximize renewable utilization and minimize fossil fuel backup usage.</p>
          </div>
        </div>
      </div>

      <!-- AI Safety Track -->
      <div id="ai-safety" class="track-detail mb-12 max-w-4xl mx-auto hidden">
        <div class="card border-l-4 border-info">
          <h2 class="text-3xl font-bold mb-4">AI Safety & Security Track</h2>
          <p class="text-lg text-text-muted mb-6">
            Build tools that train compassion into AI models - teaching them to actively protect, behave ethically under pressure, and maintain alignment even in adversarial situations.
          </p>

          <div class="grid md:grid-cols-2 gap-6 mb-6">
            <div>
              <h3 class="text-lg font-bold mb-3">Example Tools</h3>
              <ul class="text-base text-text-muted space-y-2">
                <li>‚Üí Compassion alignment training systems</li>
                <li>‚Üí Adversarial ethics testing platforms</li>
                <li>‚Üí Active harm intervention monitoring tools</li>
                <li>‚Üí Value alignment verification systems</li>
              </ul>
            </div>

            <div>
              <h3 class="text-lg font-bold mb-3">Organizations You'll Serve</h3>
              <ul class="text-base text-text-muted space-y-2">
                <li>‚Üí AI safety research labs</li>
                <li>‚Üí AI alignment organizations</li>
                <li>‚Üí Model training teams</li>
                <li>‚Üí Ethics-focused AI companies</li>
              </ul>
            </div>
          </div>

          <div class="bg-surface p-4 rounded-lg mb-4">
            <p class="text-base text-text-muted"><strong>Example 1:</strong> CompassionAlign - training framework that teaches AI models to recognize and prevent potential harm across diverse scenarios, maintaining ethical behavior even when pressured to optimize for narrow goals.</p>
          </div>
          <div class="bg-surface p-4 rounded-lg">
            <p class="text-base text-text-muted"><strong>Example 2:</strong> AdversarialEthics - red-teaming platform that stress-tests AI systems under adversarial conditions, ensuring they maintain harm prevention principles when facing manipulation attempts.</p>
          </div>
        </div>
      </div>

      <!-- Hybrid Track -->
      <div id="hybrid" class="track-detail mb-16 max-w-4xl mx-auto hidden">
        <div class="card border-l-4 border-primary">
          <h2 class="text-3xl font-bold mb-4">Hybrid Track</h2>
          <p class="text-lg text-text-muted mb-6">
            Build AI tools that address animal advocacy, climate action, and AI safety simultaneously - tackling interconnected problems with integrated solutions and compassion-aligned models.
          </p>

          <div class="grid md:grid-cols-2 gap-6 mb-6">
            <div>
              <h3 class="text-lg font-bold mb-3">Example Tools</h3>
              <ul class="text-base text-text-muted space-y-2">
                <li>‚Üí Food system transparency platforms (welfare + emissions + compassion training)</li>
                <li>‚Üí Supply chain trackers with ethical AI alignment verification</li>
                <li>‚Üí Cross-movement coalition tools with harm prevention safeguards</li>
                <li>‚Üí Impact dashboards with adversarial ethics testing</li>
              </ul>
            </div>

            <div>
              <h3 class="text-lg font-bold mb-3">Organizations You'll Serve</h3>
              <ul class="text-base text-text-muted space-y-2">
                <li>‚Üí Food justice organizations</li>
                <li>‚Üí Sustainable agriculture projects</li>
                <li>‚Üí Cross-movement coalitions</li>
                <li>‚Üí Impact-focused tech companies</li>
              </ul>
            </div>
          </div>

          <div class="bg-surface p-4 rounded-lg mb-4">
            <p class="text-base text-text-muted"><strong>Example 1:</strong> EthicalChoice - product comparison tool showing animal welfare scores, carbon footprint, and compassion alignment metrics. The AI is trained to actively protect across all three domains, maintaining ethical behavior even when optimizing for cost or convenience.</p>
          </div>
          <div class="bg-surface p-4 rounded-lg">
            <p class="text-base text-text-muted"><strong>Example 2:</strong> PolicyTracker - legislative monitoring system tracking bills across animal welfare, climate policy, and AI regulation. Uses compassion-aligned models to identify opportunities for cross-movement collaboration without reinforcing siloed approaches.</p>
          </div>
        </div>
      </div>

      <!-- CTA -->
      <div class="text-center card bg-gradient-to-br from-primary/10 to-accent/10 border-2 border-primary max-w-3xl mx-auto">
        <h2 class="text-2xl font-bold mb-4">Ready to Build?</h2>
        <p class="text-lg text-text-muted mb-6">
          Apply to the bootcamp or accelerator and choose your track
        </p>
        <a href="/apply" class="btn btn-primary btn-lg">Apply Now</a>
      </div>
    </div>
  </div>

  <style>
    .track-btn.active-track {
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
      transform: scale(1.02);
    }

    #btn-animal.active-track {
      background: linear-gradient(to bottom right, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.05));
      border-color: rgb(59, 130, 246);
      border-width: 3px;
    }

    #btn-climate.active-track {
      background: linear-gradient(to bottom right, rgba(251, 146, 60, 0.15), rgba(251, 146, 60, 0.05));
      border-color: rgb(251, 146, 60);
      border-width: 3px;
    }

    #btn-ai-safety.active-track {
      background: linear-gradient(to bottom right, rgba(34, 211, 238, 0.15), rgba(34, 211, 238, 0.05));
      border-color: rgb(34, 211, 238);
      border-width: 3px;
    }

    #btn-hybrid.active-track {
      background: linear-gradient(to bottom right, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.05));
      border-color: rgb(59, 130, 246);
      border-width: 3px;
    }
  </style>

  <script>
    // Track selection functionality
    const trackBtns = document.querySelectorAll('.track-btn');
    const trackDetails = document.querySelectorAll('.track-detail');

    function showTrack(trackId: string, shouldScroll = true) {
      // Hide all track details
      trackDetails.forEach(detail => detail.classList.add('hidden'));

      // Remove active state from all buttons
      trackBtns.forEach(btn => {
        btn.classList.remove('active-track');
      });

      // Show selected track
      const selectedTrack = document.getElementById(trackId);
      if (selectedTrack) {
        selectedTrack.classList.remove('hidden');
        if (shouldScroll) {
          // Scroll with offset to account for sticky header (64px + 16px padding)
          const headerOffset = 80;
          const elementPosition = selectedTrack.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.scrollY - headerOffset;

          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });
        }
      }

      // Highlight selected button
      const selectedBtn = document.getElementById(`btn-${trackId}`);
      if (selectedBtn) {
        selectedBtn.classList.add('active-track');
      }
    }

    // Add click handlers
    document.getElementById('btn-animal')?.addEventListener('click', () => showTrack('animal'));
    document.getElementById('btn-climate')?.addEventListener('click', () => showTrack('climate'));
    document.getElementById('btn-ai-safety')?.addEventListener('click', () => showTrack('ai-safety'));
    document.getElementById('btn-hybrid')?.addEventListener('click', () => showTrack('hybrid'));

    // Check if there's a hash in the URL and show that track
    const hash = window.location.hash.substring(1); // Remove the #
    const trackMap: Record<string, string> = {
      'animal-advocacy': 'animal',
      'climate-action': 'climate',
      'ai-safety': 'ai-safety',
      'hybrid': 'hybrid'
    };

    if (hash && trackMap[hash]) {
      showTrack(trackMap[hash], true);
    } else {
      // Show first track by default without scrolling
      showTrack('animal', false);
    }
  </script>
</BaseLayout>
