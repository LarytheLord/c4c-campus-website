import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as g}from"./index.GIa-TyKg.js";import"./_commonjsHelpers.D6-XlEtG.js";import"./index.CMF_dOlt.js";function w({question:i,questionNumber:h,totalQuestions:f,value:o,onChange:b,readonly:n=!1,showCorrectAnswer:r=!1,correctAnswer:d,isCorrect:x,explanation:p}){const[s,v]=g.useState(o||"");g.useEffect(()=>{v(o||"")},[o]);const u=a=>{n||(v(a),b(a))},N=()=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-primary text-white rounded-full text-sm font-bold",children:h}),e.jsxs("span",{className:"text-sm text-text-muted",children:["Question ",h," of ",f]})]}),e.jsx("h3",{className:"text-lg font-medium",children:i.questionText})]}),e.jsxs("div",{className:"flex-shrink-0 text-sm text-text-muted",children:[i.points," ",i.points===1?"point":"points"]})]}),i.questionImageUrl&&e.jsx("img",{src:i.questionImageUrl,alt:"Question illustration",className:"mt-3 rounded-lg max-w-full h-auto"}),n&&x!==void 0&&e.jsx("div",{className:`mt-3 p-3 rounded-lg flex items-center gap-2 ${x===null?"bg-warning/10 text-warning":x?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:x===null?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsx("span",{children:"Awaiting teacher review"})]}):x?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Correct!"})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{children:"Incorrect"})]})})]}),y=()=>{const a=Array.isArray(s)?s:s?[s]:[],l=i.options||[];return e.jsx("div",{className:"space-y-3",children:l.map(t=>{const c=a.includes(t.id),m=r&&Array.isArray(d)?d.includes(t.id):r&&d===t.id;return e.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${n?"cursor-default":"hover:border-primary"} ${c?"border-primary bg-primary/5":"border-border"} ${r&&m?"border-success bg-success/5":""} ${r&&c&&!m?"border-error bg-error/5":""}`,children:[e.jsx("input",{type:"radio",name:`question-${i.id}`,value:t.id,checked:c,onChange:$=>u($.target.value),disabled:n,className:"mt-1 w-4 h-4 text-primary"}),e.jsx("span",{className:"flex-1",children:t.text}),r&&m&&e.jsx("svg",{className:"w-5 h-5 text-success flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]},t.id)})})},z=()=>{const a=Array.isArray(s)?s[0]:s;return e.jsx("div",{className:"space-y-3",children:["true","false"].map(l=>{const t=a?.toLowerCase()===l,c=r&&d?.toString().toLowerCase()===l;return e.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${n?"cursor-default":"hover:border-primary"} ${t?"border-primary bg-primary/5":"border-border"} ${r&&c?"border-success bg-success/5":""} ${r&&t&&!c?"border-error bg-error/5":""}`,children:[e.jsx("input",{type:"radio",name:`question-${i.id}`,value:l,checked:t,onChange:m=>u(m.target.value),disabled:n,className:"mt-1 w-4 h-4 text-primary"}),e.jsx("span",{className:"flex-1 capitalize",children:l}),r&&c&&e.jsx("svg",{className:"w-5 h-5 text-success flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]},l)})})},j=()=>{const a=Array.isArray(s)?s.join(""):s;return e.jsxs("div",{children:[e.jsx("input",{type:"text",value:a,onChange:l=>u(l.target.value),disabled:n,placeholder:"Enter your answer...",className:"input w-full",maxLength:500}),r&&d&&e.jsxs("div",{className:"mt-2 p-3 bg-success/10 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-success mb-1",children:"Correct answer:"}),e.jsx("div",{className:"text-sm",children:Array.isArray(d)?d.join(", "):d})]})]})},R=()=>{const a=Array.isArray(s)?s.join(""):s;return e.jsxs("div",{children:[e.jsx("textarea",{value:a,onChange:l=>u(l.target.value),disabled:n,placeholder:"Enter your answer... (max 10,000 characters)",className:"input w-full min-h-[200px]",maxLength:1e4}),e.jsxs("div",{className:"mt-2 text-sm text-text-muted text-right",children:[a.length," / 10,000 characters"]})]})},k=()=>j(),L=()=>{switch(i.type){case"multiple_choice":return y();case"true_false":return z();case"short_answer":return j();case"essay":return R();case"fill_blank":return k();default:return e.jsx("div",{className:"text-error",children:"Unknown question type"})}};return e.jsxs("div",{className:"card",children:[N(),L(),n&&p&&r&&e.jsx("div",{className:"mt-4 p-4 bg-primary/5 rounded-lg border border-primary/20",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-primary mb-1",children:"Explanation"}),e.jsx("div",{className:"text-sm",children:p})]})]})})]})}export{w as QuizQuestion};
