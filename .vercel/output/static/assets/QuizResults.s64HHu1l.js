import{j as e}from"./jsx-runtime.D_zvdyIk.js";import"./index.GIa-TyKg.js";import"./_commonjsHelpers.D6-XlEtG.js";import"./index.CMF_dOlt.js";function g({quiz:r,attempt:s,onRetry:x,onReview:m,canRetake:l}){const t=s.score,a=s.passed,h=n=>{if(!n)return"N/A";const c=Math.floor(n/60),o=n%60;return c===0?`${o}s`:o===0?`${c}m`:`${c}m ${o}s`},d=()=>a?"text-success":t>=r.passing_score*.8?"text-warning":"text-error",i=s.grading_status==="needs_review"?{title:"Awaiting Review",description:"Your quiz includes essay questions that need to be reviewed by your teacher. Your final score will be updated after grading is complete.",icon:e.jsx("svg",{className:"w-16 h-16 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}:a?{title:"Congratulations!",description:`You passed the quiz with ${t}%! Great work!`,icon:e.jsx("svg",{className:"w-16 h-16 text-success",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}:{title:"Quiz Complete",description:l?`You scored ${t}% (passing: ${r.passing_score}%). You can retake the quiz to improve your score.`:`You scored ${t}% (passing: ${r.passing_score}%). You've used all available attempts.`,icon:e.jsx("svg",{className:"w-16 h-16 text-error",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:i.icon}),e.jsx("h2",{className:"text-3xl font-bold mb-2",children:i.title}),e.jsx("p",{className:"text-text-muted mb-8",children:i.description}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:"w-48 h-48 transform -rotate-90",children:[e.jsx("circle",{cx:"96",cy:"96",r:"88",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-surface-hover"}),e.jsx("circle",{cx:"96",cy:"96",r:"88",stroke:"currentColor",strokeWidth:"8",fill:"none",className:d(),strokeDasharray:`${2*Math.PI*88}`,strokeDashoffset:`${2*Math.PI*88*(1-t/100)}`,strokeLinecap:"round"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:`text-5xl font-bold ${d()}`,children:[t,"%"]}),e.jsxs("div",{className:"text-sm text-text-muted mt-1",children:[s.points_earned," / ",s.total_points," points"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"p-4 bg-surface rounded-lg",children:[e.jsx("div",{className:"text-text-muted text-sm mb-1",children:"Status"}),e.jsx("div",{className:`text-lg font-bold ${a?"text-success":"text-error"}`,children:a?"Passed":"Not Passed"})]}),e.jsxs("div",{className:"p-4 bg-surface rounded-lg",children:[e.jsx("div",{className:"text-text-muted text-sm mb-1",children:"Time Spent"}),e.jsx("div",{className:"text-lg font-bold",children:h(s.time_spent_seconds)})]}),e.jsxs("div",{className:"p-4 bg-surface rounded-lg",children:[e.jsx("div",{className:"text-text-muted text-sm mb-1",children:"Attempt"}),e.jsxs("div",{className:"text-lg font-bold",children:["#",s.attempt_number]})]})]}),s.teacher_feedback&&e.jsx("div",{className:"mb-8 p-4 bg-primary/5 rounded-lg border border-primary/20 text-left",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("svg",{className:"w-6 h-6 text-primary flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),e.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-primary mb-2",children:"Teacher Feedback"}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:s.teacher_feedback})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.show_correct_answers&&e.jsx("button",{onClick:m,className:"btn btn-primary",children:"Review Answers"}),l&&s.grading_status!=="needs_review"&&e.jsxs("button",{onClick:x,className:"btn btn-ghost",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Retake Quiz"]}),e.jsx("a",{href:`/quizzes/${r.id}/attempts`,className:"btn btn-ghost",children:"View All Attempts"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"What's Next?"}),e.jsx("div",{className:"space-y-3 text-sm",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-success flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("p",{children:"This quiz has been marked as complete in your progress."})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),e.jsx("p",{children:"Continue to the next lesson to keep learning!"})]})]}):e.jsxs(e.Fragment,{children:[l&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-warning flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",clipRule:"evenodd"})}),e.jsx("p",{children:"Review the lesson materials and try again when you're ready."})]}),r.show_correct_answers&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"})}),e.jsx("p",{children:"Review the correct answers to learn from your mistakes."})]})]})})]})]})}export{g as QuizResults};
