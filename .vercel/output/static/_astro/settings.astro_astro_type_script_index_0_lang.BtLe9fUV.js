import{s as n}from"../assets/supabase.DdTcER9f.js";import"../assets/index.CS-uK3Uq.js";import"../assets/_commonjsHelpers.D6-XlEtG.js";let a=null,i="branding";async function c(){const{data:{session:e}}=await n.auth.getSession();if(!e)return window.location.href="/login",!1;a=e.user;const{data:t}=await n.from("applications").select("role").eq("user_id",a.id).single();return!t||t.role!=="admin"?(document.getElementById("loading-state")?.classList.add("hidden"),document.getElementById("access-denied")?.classList.remove("hidden"),!1):!0}function s(e){if(document.getElementById("tab-content"))switch(document.querySelectorAll(".settings-tab").forEach(o=>{o.classList.remove("active")}),document.querySelector(`[data-tab="${e}"]`)?.classList.add("active"),e){case"branding":window.location.href="/admin/settings/branding";break;case"platform":window.location.href="/admin/settings/platform";break;case"features":window.location.href="/admin/settings/features";break;case"email":window.location.href="/admin/settings/email-templates";break;case"advanced":window.location.href="/admin/settings/advanced";break;case"import-export":window.location.href="/admin/settings/import-export";break}}async function d(){await c()&&(document.getElementById("loading-state")?.classList.add("hidden"),document.getElementById("settings-content")?.classList.remove("hidden"),s(i))}document.getElementById("logout-btn")?.addEventListener("click",async()=>{await n.auth.signOut(),window.location.href="/login"});document.querySelectorAll(".settings-tab").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-tab");t&&(i=t,s(t))})});d();
