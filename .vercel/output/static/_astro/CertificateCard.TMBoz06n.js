import{j as e}from"../assets/jsx-runtime.D_zvdyIk.js";import{r as f}from"../assets/index.GIa-TyKg.js";import"../assets/_commonjsHelpers.D6-XlEtG.js";import"../assets/index.CMF_dOlt.js";function j({certificate:t}){const[i,l]=f.useState(!1),s=t.certificate_data||{},a=t.course_title||s.course_name||"Course",d=new Date(t.completion_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),m=async()=>{l(!0);try{const r=await fetch(t.download_url);if(!r.ok)throw new Error("Download failed");const n=await r.blob(),c=window.URL.createObjectURL(n),o=document.createElement("a");o.href=c,o.download=`Certificate-${t.certificate_code}.pdf`,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(c),document.body.removeChild(o)}catch(r){console.error("Error downloading certificate:",r),alert("Failed to download certificate. Please try again.")}finally{l(!1)}},x=()=>{const r=`${window.location.origin}/verify/${t.verification_code}`;navigator.share?navigator.share({title:`${a} Certificate`,text:`I completed ${a} at C4C Campus!`,url:r}).catch(n=>console.log("Share failed:",n)):navigator.clipboard.writeText(r).then(()=>{alert("Verification link copied to clipboard!")})},h=()=>{navigator.clipboard.writeText(t.verification_code).then(()=>{alert("Verification code copied to clipboard!")})};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-white p-8 border-b border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block p-4 bg-white rounded-full shadow-sm mb-4",children:e.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:a}),e.jsx("p",{className:"text-sm text-gray-600",children:"Certificate of Completion"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Certificate Code:"}),e.jsx("span",{className:"font-mono font-semibold text-gray-900",children:t.certificate_code})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Completion Date:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:d})]}),s.hours&&e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Course Hours:"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[s.hours," hours"]})]}),e.jsxs("div",{className:"flex justify-between items-start text-sm pt-2 border-t border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Verification Code:"}),e.jsxs("button",{onClick:h,className:"font-mono text-xs text-blue-600 hover:text-blue-800 underline text-right break-all max-w-[200px]",title:"Click to copy",children:[t.verification_code.substring(0,16),"..."]})]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx("button",{onClick:m,disabled:i,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Downloading..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download PDF"]})}),e.jsxs("button",{onClick:x,className:"px-4 py-2 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center gap-2",title:"Share certificate",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsxs("a",{href:`/verify/${t.verification_code}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Verify Certificate Authenticity"]})})]})]})}export{j as default};
