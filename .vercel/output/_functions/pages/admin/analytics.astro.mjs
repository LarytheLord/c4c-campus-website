import { f as createComponent, k as renderComponent, r as renderTemplate, m as maybeRenderHead, l as renderScript } from "../../assets/astro/server.B91yieF7.js";
import { $ as $$BaseLayout } from "../../assets/BaseLayout.CfYIT7u8.js";
import { renderers } from "../../renderers.mjs";
const $$Analytics = createComponent(async ($$result, $$props, $$slots) => {
  return renderTemplate`${renderComponent($$result, "BaseLayout", $$BaseLayout, { "title": "Analytics Dashboard - Admin - C4C Campus", "hideHeader": true, "hideFooter": true }, { "default": async ($$result2) => renderTemplate` ${maybeRenderHead()}<div class="min-h-screen bg-background"> <!-- Admin Header --> <div class="sticky top-0 z-50 bg-surface border-b border-border"> <div class="container mx-auto px-4 py-4"> <div class="flex items-center justify-between gap-4"> <div class="flex items-center gap-4 flex-1"> <a href="/admin/dashboard" class="flex-shrink-0"> <img src="/logo.jpeg" alt="C4C Campus" class="h-10 w-10 rounded-lg"> </a> <div> <h1 class="text-xl sm:text-2xl font-bold">Analytics Dashboard</h1> <p class="text-text-muted text-sm">Platform insights and metrics</p> </div> </div> <div class="flex items-center gap-3"> <a href="/admin/dashboard" class="btn btn-ghost btn-sm">Dashboard</a> <a href="/admin/users" class="btn btn-ghost btn-sm">Users</a> <a href="/admin/applications" class="btn btn-ghost btn-sm">Applications</a> <button id="logout-btn" class="btn btn-ghost text-sm">Sign Out</button> </div> </div> </div> </div> <!-- Loading State --> <div id="loading-state" class="container mx-auto px-4 py-12"> <div class="text-center"> <div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"></div> <p class="mt-4 text-text-muted">Loading analytics...</p> </div> </div> <!-- Access Denied State --> <div id="access-denied" class="hidden container mx-auto px-4 py-12"> <div class="max-w-md mx-auto text-center"> <div class="card"> <h2 class="text-2xl font-bold mb-4">Access Denied</h2> <p class="text-text-muted mb-6">You need admin privileges to access this page.</p> <a href="/dashboard" class="btn btn-primary">Go to Dashboard</a> </div> </div> </div> <!-- Analytics Content --> <div id="analytics-content" class="hidden"> <div class="container mx-auto px-4 py-8"> <!-- Key Metrics --> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"> <div class="card"> <div class="text-sm text-text-muted mb-1">Total Students</div> <div class="text-3xl font-bold" id="metric-students">-</div> <div class="text-xs text-green-500 mt-1" id="metric-students-change">-</div> </div> <div class="card"> <div class="text-sm text-text-muted mb-1">Active Enrollments</div> <div class="text-3xl font-bold" id="metric-enrollments">-</div> <div class="text-xs text-text-muted mt-1" id="metric-enrollments-change">-</div> </div> <div class="card"> <div class="text-sm text-text-muted mb-1">Avg Completion Rate</div> <div class="text-3xl font-bold" id="metric-completion">-%</div> <div class="text-xs text-text-muted mt-1">Across all courses</div> </div> <div class="card"> <div class="text-sm text-text-muted mb-1">Total Watch Time</div> <div class="text-3xl font-bold" id="metric-watchtime">-h</div> <div class="text-xs text-text-muted mt-1">Student engagement</div> </div> </div> <!-- Charts Row 1 --> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"> <!-- Enrollment Trend --> <div class="card"> <h3 class="text-lg font-bold mb-4">Enrollment Trend (Last 30 Days)</h3> <div class="h-64 flex items-center justify-center"> <canvas id="enrollment-chart"></canvas> </div> </div> <!-- Course Popularity --> <div class="card"> <h3 class="text-lg font-bold mb-4">Top Courses by Enrollment</h3> <div class="h-64 flex items-center justify-center"> <canvas id="courses-chart"></canvas> </div> </div> </div> <!-- Charts Row 2 --> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"> <!-- Completion Rates --> <div class="card"> <h3 class="text-lg font-bold mb-4">Course Completion Rates</h3> <div id="completion-list" class="space-y-3"> <!-- Will be populated dynamically --> </div> </div> <!-- User Role Distribution --> <div class="card"> <h3 class="text-lg font-bold mb-4">User Role Distribution</h3> <div class="h-64 flex items-center justify-center"> <canvas id="roles-chart"></canvas> </div> </div> </div> <!-- Cohort Analytics --> <div class="card mb-8"> <h3 class="text-lg font-bold mb-4">Active Cohorts Performance</h3> <div id="cohorts-loading" class="text-center py-8"> <div class="inline-block animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent"></div> </div> <div id="cohorts-list" class="hidden overflow-x-auto"> <table class="w-full"> <thead> <tr class="border-b border-border"> <th class="text-left p-3">Cohort</th> <th class="text-left p-3">Course</th> <th class="text-left p-3">Students</th> <th class="text-left p-3">Avg Completion</th> <th class="text-left p-3">Status</th> <th class="text-left p-3">Start Date</th> </tr> </thead> <tbody id="cohorts-table-body"> <!-- Will be populated --> </tbody> </table> </div> <div id="cohorts-empty" class="hidden text-center py-8 text-text-muted">
No active cohorts
</div> </div> <!-- System Health --> <div class="card"> <h3 class="text-lg font-bold mb-4">System Health Metrics</h3> <div class="grid grid-cols-1 md:grid-cols-3 gap-6"> <div> <div class="text-sm text-text-muted mb-2">Database Size</div> <div class="text-xl font-bold" id="health-db-size">Calculating...</div> </div> <div> <div class="text-sm text-text-muted mb-2">Total Records</div> <div class="text-xl font-bold" id="health-records">-</div> </div> <div> <div class="text-sm text-text-muted mb-2">API Response Time</div> <div class="text-xl font-bold" id="health-response">-ms</div> </div> </div> </div> </div> </div> </div> ${renderScript($$result2, "/Users/a0/Desktop/c4c-website/src/pages/admin/analytics.astro?astro&type=script&index=0&lang.ts")}  ${renderScript($$result2, "/Users/a0/Desktop/c4c-website/src/pages/admin/analytics.astro?astro&type=script&index=1&lang.ts")} ` })}`;
}, "/Users/a0/Desktop/c4c-website/src/pages/admin/analytics.astro", void 0);
const $$file = "/Users/a0/Desktop/c4c-website/src/pages/admin/analytics.astro";
const $$url = "/admin/analytics";
const _page = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: $$Analytics,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: "Module" }));
const page = () => _page;
export {
  page,
  renderers
};
